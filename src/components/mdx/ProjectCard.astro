---
export interface ProjectCardProps {
  name: string;
  avatar: string;
  description: string;
  url: string;
}

const { name, avatar, description, url } = Astro.props as ProjectCardProps;

import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

// Project style config
const config = {
  bgClass: "bg-gradient-to-br from-info/10 to-base-100",
  iconName: "lucide:folder-git-2",
  borderClass: "border-info/20 hover:border-info/50",
  badgeClass: "badge-info badge-outline",
  badgeText: "Project"
};

const { bgClass, iconName, borderClass, badgeClass, badgeText } = config;
---

<a 
  href={url} 
  target="_blank" 
  rel="noopener noreferrer"
  class={`group block h-full bg-base-100 rounded-xl border ${borderClass} shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 overflow-hidden relative`}
>
  <div class={`absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none ${bgClass}`}></div>
  
  <div class="p-5 flex flex-col h-full relative z-10">
    <div class="flex items-start justify-between mb-4">
      <div class="avatar">
        <div class="w-14 h-14 rounded-full ring-2 ring-base-200 ring-offset-2 ring-offset-base-100 group-hover:ring-primary transition-all duration-300 overflow-hidden">
          {
            avatar ? (
              <Image src={avatar} width={56} height={56} format="webp" alt={name} loading="lazy" class="object-cover w-full h-full" />
            ) : (
              <div class="flex items-center justify-center w-full h-full bg-base-200 text-base-content/50">
                <span class="text-xl font-bold">{name.charAt(0)}</span>
              </div>
            )
          }
        </div>
      </div>
      <div class={`badge ${badgeClass} text-xs`}>
        {badgeText}
      </div>
    </div>

    <h3 class="font-bold text-lg mb-2 group-hover:text-primary transition-colors flex items-center gap-2">
      {name}
      <Icon name="lucide:external-link" class="w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-50 group-hover:translate-x-0 transition-all duration-300" />
    </h3>
    
    <p class="text-sm text-base-content/70 line-clamp-2 leading-relaxed mb-4 flex-grow">
      {description}
    </p>

    <div class="flex items-center text-xs text-base-content/50 font-medium group-hover:text-primary/70 transition-colors mt-auto pt-3 border-t border-base-200/50 border-dashed">
      <Icon name={iconName} class="w-3.5 h-3.5 mr-1.5" />
      <span>View Project</span>
    </div>
  </div>
</a>
